<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Products Functions · [∂F]</title><meta name="title" content="Products Functions · [∂F]"/><meta property="og:title" content="Products Functions · [∂F]"/><meta property="twitter:title" content="Products Functions · [∂F]"/><meta name="description" content="Documentation for [∂F]."/><meta property="og:description" content="Documentation for [∂F]."/><meta property="twitter:description" content="Documentation for [∂F]."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">[∂F]</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">DiffFusion.jl [∂F]</a></li><li><a class="tocitem" href="../../pages/overview/">Overview</a></li><li><a class="tocitem" href="../../pages/simulation_framework/">Simulation Framework</a></li><li><a class="tocitem" href="../../termstructures/termstructures/">Term Structures Functions</a></li><li><a class="tocitem" href="../../models/models/">Models Functions</a></li><li><a class="tocitem" href="../../models/rates_models/">Additional Rates Model Functions</a></li><li><a class="tocitem" href="../../simulations/simulations/">Simulations Functions</a></li><li><a class="tocitem" href="../../paths/paths/">Monte Carlo Paths Functions</a></li><li><a class="tocitem" href="../../payoffs/payoffs/">Payoffs Functions</a></li><li class="is-active"><a class="tocitem" href>Products Functions</a><ul class="internal"><li><a class="tocitem" href="#Cash-Flow-and-Coupon-Types"><span>Cash Flow and Coupon Types</span></a></li><li><a class="tocitem" href="#Cash-Flow-and-Coupon-Methods"><span>Cash Flow and Coupon Methods</span></a></li><li><a class="tocitem" href="#Cash-Flow-Legs"><span>Cash Flow Legs</span></a></li><li><a class="tocitem" href="#Swaption-Cash-Flow-Legs"><span>Swaption Cash Flow Legs</span></a></li><li><a class="tocitem" href="#Common-Methods-Overview"><span>Common Methods Overview</span></a></li></ul></li><li><a class="tocitem" href="../../analytics/analytics/">Analytics Functions</a></li><li><a class="tocitem" href="../../examples/examples/">Examples (Module) Functions</a></li><li><a class="tocitem" href="../../serialisation/serialisation/">Serialisation Functions</a></li><li><a class="tocitem" href="../../utils/utils/">Utilities Functions</a></li><li><a class="tocitem" href="../../pages/additional_functions/">Additional Functions</a></li><li><a class="tocitem" href="../../pages/function_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Products Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Products Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/frame-consulting/DiffFusion.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/frame-consulting/DiffFusion.jl/blob/main/docs/src/products/products.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Products-Functions"><a class="docs-heading-anchor" href="#Products-Functions">Products Functions</a><a id="Products-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Products-Functions" title="Permalink"></a></h1><p>In this section we document product objects and methods.</p><h2 id="Cash-Flow-and-Coupon-Types"><a class="docs-heading-anchor" href="#Cash-Flow-and-Coupon-Types">Cash Flow and Coupon Types</a><a id="Cash-Flow-and-Coupon-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Cash-Flow-and-Coupon-Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.CashFlow" href="#DiffFusion.CashFlow"><code>DiffFusion.CashFlow</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type CashFlow end</code></pre><p>A CashFlow represents a general payment in an unspecified currency.</p><p>In a simulation, we calculate discounted expected cash flows in a consistent numeraire currency.</p><p>The <code>CashFlow</code> object is inspired by QuantLib&#39;s CashFlow interface.</p><p>We apply the convention that cash flows are formulated for unit notionals. Actual notionals are applied at the level of legs. This design aims at simplifying MTM cross currency swap legs with notional exchange.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.CombinedCashFlow" href="#DiffFusion.CombinedCashFlow"><code>DiffFusion.CombinedCashFlow</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct CombinedCashFlow &lt;: CashFlow
    first::CashFlow
    second::CashFlow
    op::Function
end</code></pre><p>A composition of two cash flows in a single cash flow.</p><p>This <code>CashFlow</code> type is intended e.g. for spreads and caplets/floorlets.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L149-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.combined_cashflow" href="#DiffFusion.combined_cashflow"><code>DiffFusion.combined_cashflow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">combined_cashflow(
    first::CashFlow,
    second::CashFlow,
    op::Function,
    )</code></pre><p>Create a CombinedCashFlow object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L167-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.Coupon" href="#DiffFusion.Coupon"><code>DiffFusion.Coupon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type Coupon &lt;: CashFlow end</code></pre><p>A Coupon is a payment that is composed of an (effective) coupon rate and a year fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.FixedCashFlow" href="#DiffFusion.FixedCashFlow"><code>DiffFusion.FixedCashFlow</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct FixedCashFlow &lt;: CashFlow
    pay_time::ModelTime
    amount::ModelValue
end</code></pre><p>A simple deterministic cash flow (normalised to one unit notional)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L121-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.FixedRateCoupon" href="#DiffFusion.FixedRateCoupon"><code>DiffFusion.FixedRateCoupon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct FixedRateCoupon &lt;: Coupon
    pay_time::ModelTime
    fixed_rate::ModelValue
    year_fraction::ModelValue
end</code></pre><p>A fixed rate coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L2-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SimpleRateCoupon" href="#DiffFusion.SimpleRateCoupon"><code>DiffFusion.SimpleRateCoupon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SimpleRateCoupon &lt;: Coupon
    fixing_time::ModelTime
    start_time::ModelTime
    end_time::ModelTime
    pay_time::ModelTime
    year_fraction::ModelValue
    curve_key::String
    fixing_key::Union{String, Nothing}
    spread_rate::Union{ModelValue, Nothing}
end</code></pre><p>A (legacy) Libor or Euribor rate coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L68-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.CompoundedRateCoupon" href="#DiffFusion.CompoundedRateCoupon"><code>DiffFusion.CompoundedRateCoupon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct CompoundedRateCoupon &lt;: Coupon
    period_times::AbstractVector
    period_year_fractions::AbstractVector
    pay_time::ModelTime
    curve_key::String
    fixing_key::Union{String, Nothing}
    spread_rate::Union{ModelValue, Nothing}
end</code></pre><p>A backward-looking compounded RFR coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L147-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.OptionletCoupon" href="#DiffFusion.OptionletCoupon"><code>DiffFusion.OptionletCoupon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct OptionletCoupon &lt;: Coupon
    expiry_time::ModelTime
    coupon::Union{SimpleRateCoupon, CompoundedRateCoupon}
    strike_rate::ModelValue
    call_put::ModelValue
    coupon_type::DataType  # distinguish constructors
end</code></pre><p>A caplet or floorlet coupon on a forward-looking or backward-looking rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L277-L287">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.OptionletCoupon-Tuple{Number, Union{DiffFusion.CompoundedRateCoupon, DiffFusion.SimpleRateCoupon}, Number, Number}" href="#DiffFusion.OptionletCoupon-Tuple{Number, Union{DiffFusion.CompoundedRateCoupon, DiffFusion.SimpleRateCoupon}, Number, Number}"><code>DiffFusion.OptionletCoupon</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">OptionletCoupon(
    expiry_time::ModelTime,
    coupon::Union{SimpleRateCoupon, CompoundedRateCoupon},
    strike_rate::ModelValue,
    call_put::ModelValue,
    )</code></pre><p>Create an <code>OptionletCoupon</code> object from an underlying <code>SimpleRateCoupon</code> or <code>CompoundedRateCoupon</code>.</p><p>Option <code>expiry_time</code> is specified by user.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L296-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.OptionletCoupon-Tuple{Union{DiffFusion.CompoundedRateCoupon, DiffFusion.SimpleRateCoupon}, Number, Number}" href="#DiffFusion.OptionletCoupon-Tuple{Union{DiffFusion.CompoundedRateCoupon, DiffFusion.SimpleRateCoupon}, Number, Number}"><code>DiffFusion.OptionletCoupon</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">OptionletCoupon(
    expiry_time::ModelTime,
    coupon::Union{SimpleRateCoupon, CompoundedRateCoupon},
    strike_rate::ModelValue,
    call_put::ModelValue,
    )</code></pre><p>Create an <code>OptionletCoupon</code> object from an underlying <code>SimpleRateCoupon</code> or <code>CompoundedRateCoupon</code>.</p><p>Option <code>expiry_time</code> is determined from underlying coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L323-L335">source</a></section></article><h2 id="Cash-Flow-and-Coupon-Methods"><a class="docs-heading-anchor" href="#Cash-Flow-and-Coupon-Methods">Cash Flow and Coupon Methods</a><a id="Cash-Flow-and-Coupon-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Cash-Flow-and-Coupon-Methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.pay_time-Tuple{DiffFusion.CashFlow}" href="#DiffFusion.pay_time-Tuple{DiffFusion.CashFlow}"><code>DiffFusion.pay_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pay_time(cf::CashFlow)</code></pre><p>Return the payment time for a CashFlow.</p><p>This represents a default implementation</p><p>This method is used to calculate discounted expected values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L18-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.pay_time-Tuple{DiffFusion.CombinedCashFlow}" href="#DiffFusion.pay_time-Tuple{DiffFusion.CombinedCashFlow}"><code>DiffFusion.pay_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pay_time(cf::CombinedCashFlow)</code></pre><p>Return the payment time for a CombinedCashFlow.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L192-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.pay_time-Tuple{DiffFusion.OptionletCoupon}" href="#DiffFusion.pay_time-Tuple{DiffFusion.OptionletCoupon}"><code>DiffFusion.pay_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pay_time(cf::OptionletCoupon)</code></pre><p>Return the payment time for a OptionletCoupon.</p><p>This coincides with the payment time of the underlying coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L352-L358">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.first_time" href="#DiffFusion.first_time"><code>DiffFusion.first_time</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">first_time(cf::Coupon)</code></pre><p>Derive the first event time of the <code>Coupon</code>.</p><p>This time is used in conjunction with call rights to determine whether a coupon period is already broken.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L109-L116">source</a></section><section><div><pre><code class="language-julia hljs">first_time(cf::FixedRateCoupon)</code></pre><p>Derive the first event time of the <code>FixedRateCoupon</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L55-L59">source</a></section><section><div><pre><code class="language-julia hljs">first_time(cf::SimpleRateCoupon)</code></pre><p>Derive the first event time of the <code>SimpleRateCoupon</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L137-L141">source</a></section><section><div><pre><code class="language-julia hljs">first_time(cf::CompoundedRateCoupon)</code></pre><p>Derive the first event time of the <code>CompoundedRateCoupon</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L267-L271">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.amount-Tuple{DiffFusion.CashFlow}" href="#DiffFusion.amount-Tuple{DiffFusion.CashFlow}"><code>DiffFusion.amount</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">amount(cf::CashFlow)</code></pre><p>Return the payoff representing the simulated cash flow amount of the payment.</p><p>This method is intended to be used for general payoffs in conjunction with AMC.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L29-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.expected_amount-Tuple{DiffFusion.CashFlow, Number}" href="#DiffFusion.expected_amount-Tuple{DiffFusion.CashFlow, Number}"><code>DiffFusion.expected_amount</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">expected_amount(cf::CashFlow, obs_time::ModelTime)</code></pre><p>Return the payoff representing the simulated expected amount of the payment.</p><p>Expectation is calculated in <span>$T$</span>-forward measure of cash flow currency with <span>$T$</span> being the payment time and conditioning on observation time.</p><p>This method is intended to be used for analytical pricers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L40-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.year_fraction-Tuple{DiffFusion.Coupon}" href="#DiffFusion.year_fraction-Tuple{DiffFusion.Coupon}"><code>DiffFusion.year_fraction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">year_fraction(cf::Coupon)</code></pre><p>Derive the year fraction for a Coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.coupon_rate-Tuple{DiffFusion.Coupon}" href="#DiffFusion.coupon_rate-Tuple{DiffFusion.Coupon}"><code>DiffFusion.coupon_rate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">coupon_rate(cf::Coupon)</code></pre><p>Return a payoff for the realised simulated effective coupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L72-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.forward_rate-Tuple{DiffFusion.Coupon, Number}" href="#DiffFusion.forward_rate-Tuple{DiffFusion.Coupon, Number}"><code>DiffFusion.forward_rate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">forward_rate(cf::Coupon, obs_time::ModelTime)</code></pre><p>Return a payoff for the effective forward rate of the coupon.</p><p>Expectation is calculated in T-forward measure of cash flow currency with T being the payment time and conditioning on observation time.</p><p>This method is intended to be used for analytical pricers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L81-L90">source</a></section></article><h2 id="Cash-Flow-Legs"><a class="docs-heading-anchor" href="#Cash-Flow-Legs">Cash Flow Legs</a><a id="Cash-Flow-Legs-1"></a><a class="docs-heading-anchor-permalink" href="#Cash-Flow-Legs" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.CashFlowLeg" href="#DiffFusion.CashFlowLeg"><code>DiffFusion.CashFlowLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type CashFlowLeg end</code></pre><p>A <code>CashFlowLeg</code> combines <code>CashFlow</code> objects in a single currency and adds notional and payer/receiver information and discounting.</p><p>We apply the convention that notionals are non-negative and cash flows are modelled from the receiving counter party perspective. This does include the exceptions of negative spread cash flows or negative notional exchange cash flows.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L3-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.DeterministicCashFlowLeg" href="#DiffFusion.DeterministicCashFlowLeg"><code>DiffFusion.DeterministicCashFlowLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct DeterministicCashFlowLeg &lt;: CashFlowLeg
    alias::String
    cashflows::AbstractVector
    notionals::AbstractVector
    curve_key::String
    fx_key::Union{String, Nothing}
    payer_receiver::ModelValue
end</code></pre><p>A DeterministicCashFlowLeg models legs with deterministic notionals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L42-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.cashflow_leg" href="#DiffFusion.cashflow_leg"><code>DiffFusion.cashflow_leg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cashflow_leg(
    alias::String,
    cashflows::AbstractVector,
    notionals::AbstractVector,
    curve_key::Union{String, Nothing} = nothing,
    fx_key::Union{String, Nothing} = nothing,
    payer_receiver = 1.0,
    )</code></pre><p>Create a DeterministicCashFlowLeg.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L63-L74">source</a></section><section><div><pre><code class="language-julia hljs">cashflow_leg(
    alias::String,
    cashflows::AbstractVector,
    notional::ModelValue,
    curve_key::Union{String, Nothing} = nothing,
    fx_key::Union{String, Nothing} = nothing,
    payer_receiver = 1.0,
    )</code></pre><p>Create a constant notional CashFlowLeg.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L95-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.MtMCashFlowLeg" href="#DiffFusion.MtMCashFlowLeg"><code>DiffFusion.MtMCashFlowLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct MtMCashFlowLeg &lt;: CashFlowLeg
    alias::String
    cashflows::AbstractVector
    intitial_notional::ModelValue
    curve_key_dom::String
    curve_key_for::String
    fx_key_dom::Union{String, Nothing}
    fx_key_for::Union{String, Nothing}
    fx_reset_times::AbstractVector
    fx_pay_times::AbstractVector
    payer_receiver::ModelValue
end</code></pre><p>A mark-to-market (MtM) cross currency cash flow leg adds notional resets to the cash flow payments.</p><p>Notional resets are calculated from FX rates at reset times.</p><p>We consider a setting with numeraire currency, domestic currency and foreign currency.</p><p>Cash flows are denominated in domestic currency. Initial notional is expressed in foreign currency and simulation is modelled in numeraire currency.</p><p>We denote <code>fx_key_for</code> the FOR-NUM asset key and <code>fx_key_dom</code> the DOM-NUM asset key.</p><p>FX rates for notional exchange are fixed at <code>fx_reset_times</code> and notional cash flows are exchanged at <code>fx_pay_times</code>. The very first notional exchange is not modelled because it is either in the past or foreign and domestic notional exchange offset each other.</p><p>As a consequence, we have one <code>fx_reset_time</code> and one <code>fx_pay_time</code> per cash flow. The <code>fx_reset_time</code> is at (or before) the start of the coupon period and <code>fx_pay_time</code> is at (or after) the end of the coupon period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/MtMCashFlowLeg.jl#L2-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.mtm_cashflow_leg" href="#DiffFusion.mtm_cashflow_leg"><code>DiffFusion.mtm_cashflow_leg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mtm_cashflow_leg(
    alias::String,
    cashflows::AbstractVector,
    intitial_notional::ModelValue,
    curve_key_dom::String,
    curve_key_for::String,
    fx_key_dom::Union{String, Nothing},
    fx_key_for::Union{String, Nothing},
    fx_reset_times::AbstractVector,
    fx_pay_times::AbstractVector,
    payer_receiver::ModelValue,
    )</code></pre><p>Create a MTM cash flow leg.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/MtMCashFlowLeg.jl#L55-L70">source</a></section><section><div><pre><code class="language-julia hljs">mtm_cashflow_leg(
    alias::String,
    leg::DeterministicCashFlowLeg,
    intitial_notional::ModelValue,  # in foreign currency
    initial_reset_time::ModelValue,
    curve_key_for::String,
    fx_key_for::Union{String, Nothing},
    )</code></pre><p>Create a MtM cash flow leg from a deterministic leg.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/MtMCashFlowLeg.jl#L101-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.CashBalanceLeg" href="#DiffFusion.CashBalanceLeg"><code>DiffFusion.CashBalanceLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct CashBalance &lt;: CashFlowLeg
    alias::String
    notional::ModelValue
    fx_key::Union{String, Nothing}
    payer_receiver::ModelValue
    maturity_time::Union{Nothing, ModelTime}
end</code></pre><p>A CashLeg represents a constant cash balance in domestic or foreign corrency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L2-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.cash_balance_leg" href="#DiffFusion.cash_balance_leg"><code>DiffFusion.cash_balance_leg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cash_balance_leg(
    alias::String,
    notional::ModelValue,
    fx_key::Union{String, Nothing} = nothing,
    payer_receiver::ModelValue = +1.0,
    maturity_time::Union{Nothing, ModelTime} = nothing
    )</code></pre><p>Create a CashBalance object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L22-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.AssetLeg" href="#DiffFusion.AssetLeg"><code>DiffFusion.AssetLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An AssetLeg represents a position in a tradeable asset. Such tradeable asset can be, e.g., a share price, index price or an (FOR-DOM) FX rate where DOM currency differs from numeraire currency. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L72-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.future_cashflows-Tuple{DiffFusion.CashFlowLeg, Number}" href="#DiffFusion.future_cashflows-Tuple{DiffFusion.CashFlowLeg, Number}"><code>DiffFusion.future_cashflows</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">future_cashflows(leg::CashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.discounted_cashflows-Tuple{DiffFusion.CashFlowLeg, Number}" href="#DiffFusion.discounted_cashflows-Tuple{DiffFusion.CashFlowLeg, Number}"><code>DiffFusion.discounted_cashflows</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::CashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L32-L36">source</a></section></article><h2 id="Swaption-Cash-Flow-Legs"><a class="docs-heading-anchor" href="#Swaption-Cash-Flow-Legs">Swaption Cash Flow Legs</a><a id="Swaption-Cash-Flow-Legs-1"></a><a class="docs-heading-anchor-permalink" href="#Swaption-Cash-Flow-Legs" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SwaptionSettlement" href="#DiffFusion.SwaptionSettlement"><code>DiffFusion.SwaptionSettlement</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">@enum(
    SwaptionSettlement,
    SwaptionCashSettlement,
    SwaptionPhysicalSettlement,
)</code></pre><p>SwaptionSettlement specifies whether swaption terminates at settlement time or whether it is converted into a physicl swap.</p><p>For <code>SwaptionCashSettlement</code> the cash price is calculated as model price, i.e. physical price at expiry.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/SwaptionLeg.jl#L3-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SwaptionLeg" href="#DiffFusion.SwaptionLeg"><code>DiffFusion.SwaptionLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SwaptionLeg &lt;: CashFlowLeg
    alias::String
    #
    expiry_time::ModelTime
    settlement_time::ModelTime
    float_coupons::AbstractVector
    fixed_coupons::AbstractVector
    payer_receiver::ModelValue
    swap_disc_curve_key::String
    settlement_type::SwaptionSettlement
    #
    notional::ModelValue
    swpt_disc_curve_key::String
    swpt_fx_key::Union{String, Nothing}
    swpt_long_short::ModelValue
    #
    fixed_times::AbstractVector
    fixed_weights::AbstractVector
    fixed_rate::ModelValue
    exercise_indicator::Payoff
end</code></pre><p>A European swaption referencing a Vanilla swap with forward looking or backward looking rates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/SwaptionLeg.jl#L23-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SwaptionLeg" href="#DiffFusion.SwaptionLeg"><code>DiffFusion.SwaptionLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SwaptionLeg(
    alias::String,
    #
    expiry_time::ModelTime,
    settlement_time::ModelTime,
    float_coupons::AbstractVector,
    fixed_coupons::AbstractVector,
    payer_receiver::ModelValue,
    swap_disc_curve_key::String,
    settlement_type::SwaptionSettlement,
    #
    notional::ModelValue,
    swpt_disc_curve_key::String = swap_disc_curve_key,
    swpt_fx_key::Union{String, Nothing} = nothing,
    swpt_long_short::ModelValue = +1.0,
    )</code></pre><p>Create a swaption object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/SwaptionLeg.jl#L72-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.BermudanExercise" href="#DiffFusion.BermudanExercise"><code>DiffFusion.BermudanExercise</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct BermudanExercise
    exercise_time::ModelTime
    cashflow_legs::AbstractVector
    make_regression_variables::Function
end</code></pre><p>A container holding the information about an exercise event of a <code>BermudanSwaptionLeg</code>.</p><p>Here, <code>exercise_time</code> is the individual option exercise time and <code>cashflow_legs</code> is a list of <code>CashFlowLeg</code>s.</p><p>The cash flows in the cash flow legs are supposed to start after <code>exercise_time</code>. That is, the <code>BermudanExercise</code> manages the lag between option exercise and option settlement.</p><p><code>make_regression_variables</code> is a function with signature</p><pre><code class="nohighlight hljs">(exercise_time) -&gt; [ regr_payoff_1, ..., regr_payoff_N ].</code></pre><p>The function takes observation time as input to allow for re-usable fuctions. It returns a list of regression payoffs used for this particular exercise.</p><p>The result of the function is passed on to the <code>AmcPayoff</code> creation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L2-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.bermudan_exercise-Tuple{Number, AbstractVector, Function}" href="#DiffFusion.bermudan_exercise-Tuple{Number, AbstractVector, Function}"><code>DiffFusion.bermudan_exercise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bermudan_exercise(
    exercise_time::ModelTime,
    cashflow_legs::AbstractVector,
    make_regression_variables::Function,
    )</code></pre><p>Create a <code>BermudanExercise</code> and check for valid inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L34-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.make_bermudan_exercises" href="#DiffFusion.make_bermudan_exercises"><code>DiffFusion.make_bermudan_exercises</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_bermudan_exercises(
    fixed_leg::DeterministicCashFlowLeg,
    float_leg::DeterministicCashFlowLeg,
    exercise_time::AbstractVector,
    )</code></pre><p>Create a list of <code>BermudanExercise</code>s from Vanilla swap legs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L349-L357">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.BermudanSwaptionLeg" href="#DiffFusion.BermudanSwaptionLeg"><code>DiffFusion.BermudanSwaptionLeg</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A Bermudan swaption implemented as a <code>CashFlowLeg</code>.</p><p><code>alias</code> is the leg alias.</p><p><code>bermudan_exercises</code> is a list of <code>BermudanExercise</code>s in ascending order.</p><p><code>option_long_short</code> is <code>+1</code> for a long option position (buy) and <code>-1</code> for a short option position (sell).</p><p><code>numeraire_curve_key</code> is a discount curve key used for numeraie calculation in <code>AmcPayoff</code>s.</p><p><code>hold_values</code> is a list of <code>Payoff</code>s per <code>BermudanExercise</code> that represent the option prices if not exercised.</p><p><code>exercise_triggers</code> is a list of <code>Payoff</code>s per <code>BermudanExercise</code> that represent the indicator whether option was not exercised at respective exercise time.</p><p><code>make_regression_variables</code> is a function with signature</p><pre><code class="nohighlight hljs">(obs_time) -&gt; [ regr_payoff_1, ..., regr_payoff_N ].</code></pre><p>The function takes observation time as input to allow for re-usable fuctions. It returns a list of regression payoffs used for regression to current observation time.</p><p>The result of the function <code>make_regression_variables</code> is passed on to the <code>AmcPayoff</code> creation.</p><p><code>regression_data</code> holds function to create a regression and a <code>Path</code> to calibrate the regression. Details are passed on to <code>AmcPayoff</code> at creation. The elements are supposed to be updated subsequent to <code>BermudanSwaptionLeg</code> creation. This should allow decoupling of leg creation and usage. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L58-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.bermudan_swaption_leg" href="#DiffFusion.bermudan_swaption_leg"><code>DiffFusion.bermudan_swaption_leg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bermudan_swaption_leg(
    alias::String,
    bermudan_exercises::AbstractVector,
    option_long_short::ModelValue,
    numeraire_curve_key::String,
    make_regression_variables::Function,
    path::Union{AbstractPath, Nothing},
    make_regression::Union{Function, Nothing},
    )</code></pre><p>Create a <code>BermudanSwaptionLeg</code>.</p><p>Calculate hold value payoffs and exercise trigger payoffs and setup the <code>BermudanSwaptionLeg</code> object. </p><p><code>alias</code>, <code>bermudan_exercises</code>, <code>option_long_short</code>, <code>numeraire_curve_key</code>, and <code>make_regression_variables</code> are passed on to <code>BermudanSwaptionLeg</code>.</p><p><code>path</code> and <code>make_regression</code> are used to create an <code>AmcPayoffRegression</code> object for  <code>AmcPayoff</code>s. This data is supposed to be updated subsequent to leg cretion.</p><p><code>regression_on_exercise_trigger = true</code> specifies AMC regression strategy. If <code>regression_on_exercise_trigger = then</code> then regression on regression is used. <code>regression_on_exercise_trigger = true</code> is recommended for accurate sensitivity calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L105-L132">source</a></section><section><div><pre><code class="language-julia hljs">bermudan_swaption_leg(
    alias::String,
    fixed_leg::DeterministicCashFlowLeg,
    float_leg::DeterministicCashFlowLeg,
    exercise_times::AbstractVector,
    option_long_short::ModelValue,
    regression_on_exercise_trigger = false,
    )</code></pre><p>Create a <code>BermudanSwaptionLeg</code> using simplified interface.</p><p><code>regression_on_exercise_trigger = true</code> specifies AMC regression strategy. If <code>regression_on_exercise_trigger = then</code> then regression on regression is used. <code>regression_on_exercise_trigger = true</code> is recommended for accurate sensitivity calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L422-L438">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.reset_regression!" href="#DiffFusion.reset_regression!"><code>DiffFusion.reset_regression!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reset_regression!(
    leg::BermudanSwaptionLeg,
    path::Union{AbstractPath, Nothing} = nothing,
    make_regression::Union{Function, Nothing}  = nothing,
    )</code></pre><p>Reset the regression properties for the AMC payoffs of the <code>BermudanSwaptionLeg</code>.</p><p>This method is used to allow setting and updating AMC regression after leg creation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L313-L324">source</a></section></article><h2 id="Common-Methods-Overview"><a class="docs-heading-anchor" href="#Common-Methods-Overview">Common Methods Overview</a><a id="Common-Methods-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Common-Methods-Overview" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.amount" href="#DiffFusion.amount"><code>DiffFusion.amount</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">amount(cf::CashFlow)</code></pre><p>Return the payoff representing the simulated cash flow amount of the payment.</p><p>This method is intended to be used for general payoffs in conjunction with AMC.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L29-L35">source</a></section><section><div><pre><code class="language-julia hljs">amount(cf::Coupon)</code></pre><p>Calculate payment amount for a Coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L95-L99">source</a></section><section><div><pre><code class="language-julia hljs">amount(cf::FixedCashFlow)</code></pre><p>Return FixedCashFlow amount.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L134-L138">source</a></section><section><div><pre><code class="language-julia hljs">amount(cf::CombinedCashFlow)</code></pre><p>Return the payoff representing the simulated cash flow amount of the payment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L200-L204">source</a></section><section><div><pre><code class="language-julia hljs">amount(cf::VanillaAssetOptionFlow)</code></pre><p>Return the payoff of the <code>VanillaAssetOptionFlow</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/AssetOptionFlows.jl#L22-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.coupon_rate" href="#DiffFusion.coupon_rate"><code>DiffFusion.coupon_rate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">coupon_rate(cf::Coupon)</code></pre><p>Return a payoff for the realised simulated effective coupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L72-L76">source</a></section><section><div><pre><code class="language-julia hljs">coupon_rate(cf::FixedRateCoupon)</code></pre><p>Return FixedRateCoupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L40-L44">source</a></section><section><div><pre><code class="language-julia hljs">coupon_rate(cf::SimpleRateCoupon)</code></pre><p>Return SimpleRateCoupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L100-L104">source</a></section><section><div><pre><code class="language-julia hljs">coupon_rate(cf::CompoundedRateCoupon)</code></pre><p>Return CompoundedRateCoupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L176-L180">source</a></section><section><div><pre><code class="language-julia hljs">coupon_rate(cf::OptionletCoupon)</code></pre><p>Return OptionletCoupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L370-L374">source</a></section><section><div><pre><code class="language-julia hljs">coupon_rate(cf::RelativeReturnCoupon)</code></pre><p>Return RelativeReturnCoupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RelativeReturnCoupon.jl#L36-L40">source</a></section><section><div><pre><code class="language-julia hljs">coupon_rate(cf::RelativeReturnIndexCoupon)</code></pre><p>Return RelativeReturnIndexCoupon rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RelativeReturnIndexCoupon.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.discounted_cashflows" href="#DiffFusion.discounted_cashflows"><code>DiffFusion.discounted_cashflows</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::CashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L32-L36">source</a></section><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::DeterministicCashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L143-L147">source</a></section><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::SwaptionLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/SwaptionLeg.jl#L263-L267">source</a></section><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::MtMCashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/MtMCashFlowLeg.jl#L186-L190">source</a></section><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::CashBalanceLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L64-L68">source</a></section><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::AssetLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L119-L123">source</a></section><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::BermudanSwaptionLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p><p>Critical aspect is to consider the path-dependent exercise into the option underlying.</p><p>Consider an <code>obs_time</code> after a given <code>BermudanExercise</code> (last exercise). For this implementation, we make the assumption that exercise at <code>obs_time</code> will only be into the underlying of the last exercise.</p><p>Above assumption is does not pose a limitation if all underlyings are the same, i.e. standard Bermudans. </p><p>Above assumption is a limitation if the Bermudan can be exercised into different underlyings per exercise time. This corresponds to a more complex trigger option.</p><p>Above assumption can be relaxed at the expense of calculating discounted cash flows for all (earlier) underlyings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/BermudanSwaptionLeg.jl#L227-L248">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.expected_amount" href="#DiffFusion.expected_amount"><code>DiffFusion.expected_amount</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expected_amount(cf::CashFlow, obs_time::ModelTime)</code></pre><p>Return the payoff representing the simulated expected amount of the payment.</p><p>Expectation is calculated in <span>$T$</span>-forward measure of cash flow currency with <span>$T$</span> being the payment time and conditioning on observation time.</p><p>This method is intended to be used for analytical pricers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L40-L49">source</a></section><section><div><pre><code class="language-julia hljs">expected_amount(cf::Coupon, obs_time::ModelTime)</code></pre><p>Calculate expected payment amount for a Coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L102-L106">source</a></section><section><div><pre><code class="language-julia hljs">expected_amount(cf::FixedCashFlow, obs_time::ModelTime)</code></pre><p>Return FixedCashFlow expected amount.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L141-L145">source</a></section><section><div><pre><code class="language-julia hljs">expected_amount(cf::CombinedCashFlow, obs_time::ModelTime)</code></pre><p>Return the payoff representing the simulated expected amount of the payment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L207-L211">source</a></section><section><div><pre><code class="language-julia hljs">expected_amount(cf::VanillaAssetOptionFlow, obs_time::ModelTime)</code></pre><p>Return the payoff representing the simulated expected amount of the <code>VanillaAssetOptionFlow</code>.</p><p>This implementation is an approximation and does not capture convexity adjustments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/AssetOptionFlows.jl#L33-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.forward_rate" href="#DiffFusion.forward_rate"><code>DiffFusion.forward_rate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">forward_rate(ts::YieldTermstructure, t::ModelTime, dt=1.0e-6)</code></pre><p>Return the instantaneous forward rate with observation time <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/termstructures/Termstructures.jl#L241-L245">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::Coupon, obs_time::ModelTime)</code></pre><p>Return a payoff for the effective forward rate of the coupon.</p><p>Expectation is calculated in T-forward measure of cash flow currency with T being the payment time and conditioning on observation time.</p><p>This method is intended to be used for analytical pricers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L81-L90">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::FixedRateCoupon, obs_time::ModelTime)</code></pre><p>Return FixedRateCoupon forward rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L47-L51">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::SimpleRateCoupon, obs_time::ModelTime)</code></pre><p>Return SimpleRateCoupon forward rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L118-L122">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::CompoundedRateCoupon, obs_time::ModelTime)</code></pre><p>Return CompoundedRateCoupon forward rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L220-L224">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::OptionletCoupon, obs_time::ModelTime)</code></pre><p>Return OptionletCoupon forward rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L381-L385">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::RelativeReturnCoupon, obs_time::ModelTime)</code></pre><p>Return RelativeReturnCoupon forward rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RelativeReturnCoupon.jl#L47-L51">source</a></section><section><div><pre><code class="language-julia hljs">forward_rate(cf::RelativeReturnIndexCoupon, obs_time::ModelTime)</code></pre><p>Return RelativeReturnIndexCoupon forward rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RelativeReturnIndexCoupon.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.future_cashflows" href="#DiffFusion.future_cashflows"><code>DiffFusion.future_cashflows</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">future_cashflows(leg::CashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L23-L27">source</a></section><section><div><pre><code class="language-julia hljs">future_cashflows(leg::DeterministicCashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashFlowLeg.jl#L123-L127">source</a></section><section><div><pre><code class="language-julia hljs">future_cashflows(leg::SwaptionLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/SwaptionLeg.jl#L205-L209">source</a></section><section><div><pre><code class="language-julia hljs">future_cashflows(leg::MtMCashFlowLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/MtMCashFlowLeg.jl#L141-L145">source</a></section><section><div><pre><code class="language-julia hljs">future_cashflows(leg::CashBalanceLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L47-L51">source</a></section><section><div><pre><code class="language-julia hljs">future_cashflows(leg::AssetLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/CashAndAssetLegs.jl#L102-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.year_fraction" href="#DiffFusion.year_fraction"><code>DiffFusion.year_fraction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">year_fraction(cf::Coupon)</code></pre><p>Derive the year fraction for a Coupon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/Cashflows.jl#L63-L67">source</a></section><section><div><pre><code class="language-julia hljs">year_fraction(cf::FixedRateCoupon)</code></pre><p>Return FixedRateCoupon year_fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L33-L37">source</a></section><section><div><pre><code class="language-julia hljs">year_fraction(cf::SimpleRateCoupon)</code></pre><p>Return SimpleRateCoupon year_fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L93-L97">source</a></section><section><div><pre><code class="language-julia hljs">year_fraction(cf::CompoundedRateCoupon)</code></pre><p>Return CompoundedRateCoupon year_fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L168-L172">source</a></section><section><div><pre><code class="language-julia hljs">year_fraction(cf::OptionletCoupon)</code></pre><p>Return OptionletCoupon year_fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RatesCoupons.jl#L362-L366">source</a></section><section><div><pre><code class="language-julia hljs">year_fraction(cf::RelativeReturnCoupon)</code></pre><p>Return RelativeReturnCoupon year_fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RelativeReturnCoupon.jl#L29-L33">source</a></section><section><div><pre><code class="language-julia hljs">year_fraction(cf::RelativeReturnIndexCoupon)</code></pre><p>Return RelativeReturnIndexCoupon year_fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/ae93c3445a72219a5d2889480b89ab529e536b1a/src/products/RelativeReturnIndexCoupon.jl#L24-L28">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../payoffs/payoffs/">« Payoffs Functions</a><a class="docs-footer-nextpage" href="../../analytics/analytics/">Analytics Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Monday 4 March 2024 19:32">Monday 4 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
