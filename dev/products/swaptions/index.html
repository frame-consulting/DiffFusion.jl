<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Swaptions · [∂F]</title><meta name="title" content="Swaptions · [∂F]"/><meta property="og:title" content="Swaptions · [∂F]"/><meta property="twitter:title" content="Swaptions · [∂F]"/><meta name="description" content="Documentation for [∂F]."/><meta property="og:description" content="Documentation for [∂F]."/><meta property="twitter:description" content="Documentation for [∂F]."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">[∂F]</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../introduction/overview/">Overview</a></li><li><a class="tocitem" href="../../introduction/simulation_framework/">Simulation Framework</a></li></ul></li><li><span class="tocitem">Term Structures</span><ul><li><a class="tocitem" href="../../termstructures/termstructures/">Term Structures Functions</a></li><li><a class="tocitem" href="../../termstructures/yield_curves/">Yield Curves</a></li><li><a class="tocitem" href="../../termstructures/volatilities/">Volatilities</a></li><li><a class="tocitem" href="../../termstructures/parameters/">Model Parameters</a></li><li><a class="tocitem" href="../../termstructures/correlations/">Correlations</a></li><li><a class="tocitem" href="../../termstructures/others/">Others</a></li></ul></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../../models/rates_models/">Interest Rates Models</a></li><li><a class="tocitem" href="../../models/asset_models/">Asset Models (FX/Equity/Inflation)</a></li><li><a class="tocitem" href="../../models/futures_models/">Future Price Models</a></li><li><a class="tocitem" href="../../models/credit_models/">Credit Spread Models</a></li><li><a class="tocitem" href="../../models/cross_asset_models/">Cross Asset Hybrid Models</a></li><li><a class="tocitem" href="../../models/models/">Common Model Functions</a></li></ul></li><li><a class="tocitem" href="../../simulations/simulations/">Monte Carlo Simulations</a></li><li><span class="tocitem">Pricing Configuration</span><ul><li><a class="tocitem" href="../../pricing_configuration/context/">Pricing Context</a></li><li><a class="tocitem" href="../../pricing_configuration/paths/">Simulated Paths</a></li></ul></li><li><span class="tocitem">Products</span><ul><li><a class="tocitem" href="../cash_flows/">Cash Flow and Coupons</a></li><li><a class="tocitem" href="../products/">Basic Products</a></li><li class="is-active"><a class="tocitem" href>Swaptions</a><ul class="internal"><li><a class="tocitem" href="#European-Swaption"><span>European Swaption</span></a></li><li><a class="tocitem" href="#Bermudan-Swaption"><span>Bermudan Swaption</span></a></li></ul></li></ul></li><li><span class="tocitem">Scenarios</span><ul><li><a class="tocitem" href="../../scenarios/scenario_generation/">Scenarios</a></li><li><a class="tocitem" href="../../scenarios/exposure_calculation/">CCR/XVA Calculations</a></li><li><a class="tocitem" href="../../scenarios/collateral_simulation/">Collateral Modelling</a></li></ul></li><li><span class="tocitem">Payoffs</span><ul><li><a class="tocitem" href="../../payoffs/payoffs/">Payoffs</a></li><li><a class="tocitem" href="../../payoffs/rates_payoffs/">Interest Rates</a></li><li><a class="tocitem" href="../../payoffs/asset_payoffs/">Assets and Futures</a></li><li><a class="tocitem" href="../../payoffs/amc_payoffs/">American Monte Carlo</a></li></ul></li><li><a class="tocitem" href="../../sensitivities/sensitivities/">Sensitivities</a></li><li><a class="tocitem" href="../../analytics/analytics/">Analytics</a></li><li><a class="tocitem" href="../../examples/examples/">Example Models and Portfolios</a></li><li><a class="tocitem" href="../../serialisation/serialisation/">Serialisation Functions</a></li><li><a class="tocitem" href="../../utils/utils/">Utilities</a></li><li><a class="tocitem" href="../../additional_functions/additional_functions/">Additional Functions</a></li><li><a class="tocitem" href="../../function_index/function_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Products</a></li><li class="is-active"><a href>Swaptions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Swaptions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/frame-consulting/DiffFusion.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/frame-consulting/DiffFusion.jl/blob/main/docs/src/products/swaptions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Swaptions"><a class="docs-heading-anchor" href="#Swaptions">Swaptions</a><a id="Swaptions-1"></a><a class="docs-heading-anchor-permalink" href="#Swaptions" title="Permalink"></a></h1><p>European and Brmudan Swaptions are also represented as specific cash flow legs.</p><h2 id="European-Swaption"><a class="docs-heading-anchor" href="#European-Swaption">European Swaption</a><a id="European-Swaption-1"></a><a class="docs-heading-anchor-permalink" href="#European-Swaption" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SwaptionSettlement" href="#DiffFusion.SwaptionSettlement"><code>DiffFusion.SwaptionSettlement</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@enum(
    SwaptionSettlement,
    SwaptionCashSettlement,
    SwaptionPhysicalSettlement,
)</code></pre><p>SwaptionSettlement specifies whether swaption terminates at settlement time or whether it is converted into a physicl swap.</p><p>For <code>SwaptionCashSettlement</code> the cash price is calculated as model price, i.e. physical price at expiry.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/SwaptionLeg.jl#L3-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SwaptionLeg" href="#DiffFusion.SwaptionLeg"><code>DiffFusion.SwaptionLeg</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SwaptionLeg &lt;: CashFlowLeg
    alias::String
    #
    expiry_time::ModelTime
    settlement_time::ModelTime
    float_coupons::AbstractVector
    fixed_coupons::AbstractVector
    payer_receiver::ModelValue
    swap_disc_curve_key::String
    settlement_type::SwaptionSettlement
    #
    notional::ModelValue
    swpt_disc_curve_key::String
    swpt_fx_key::Union{String, Nothing}
    swpt_long_short::ModelValue
    #
    fixed_times::AbstractVector
    fixed_weights::AbstractVector
    fixed_rate::ModelValue
    exercise_indicator::Payoff
end</code></pre><p>A European swaption referencing a Vanilla swap with forward looking or backward looking rates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/SwaptionLeg.jl#L23-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.SwaptionLeg" href="#DiffFusion.SwaptionLeg"><code>DiffFusion.SwaptionLeg</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SwaptionLeg(
    alias::String,
    #
    expiry_time::ModelTime,
    settlement_time::ModelTime,
    float_coupons::AbstractVector,
    fixed_coupons::AbstractVector,
    payer_receiver::ModelValue,
    swap_disc_curve_key::String,
    settlement_type::SwaptionSettlement,
    #
    notional::ModelValue,
    swpt_disc_curve_key::String = swap_disc_curve_key,
    swpt_fx_key::Union{String, Nothing} = nothing,
    swpt_long_short::ModelValue = +1.0,
    )</code></pre><p>Create a swaption object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/SwaptionLeg.jl#L72-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.future_cashflows-Tuple{DiffFusion.SwaptionLeg, Number}" href="#DiffFusion.future_cashflows-Tuple{DiffFusion.SwaptionLeg, Number}"><code>DiffFusion.future_cashflows</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">future_cashflows(leg::SwaptionLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future undiscounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/SwaptionLeg.jl#L205-L209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.discounted_cashflows-Tuple{DiffFusion.SwaptionLeg, Number}" href="#DiffFusion.discounted_cashflows-Tuple{DiffFusion.SwaptionLeg, Number}"><code>DiffFusion.discounted_cashflows</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::SwaptionLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/SwaptionLeg.jl#L263-L267">source</a></section></article><h2 id="Bermudan-Swaption"><a class="docs-heading-anchor" href="#Bermudan-Swaption">Bermudan Swaption</a><a id="Bermudan-Swaption-1"></a><a class="docs-heading-anchor-permalink" href="#Bermudan-Swaption" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.BermudanExercise" href="#DiffFusion.BermudanExercise"><code>DiffFusion.BermudanExercise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BermudanExercise
    exercise_time::ModelTime
    cashflow_legs::AbstractVector
    make_regression_variables::Function
end</code></pre><p>A container holding the information about an exercise event of a <code>BermudanSwaptionLeg</code>.</p><p>Here, <code>exercise_time</code> is the individual option exercise time and <code>cashflow_legs</code> is a list of <code>CashFlowLeg</code>s.</p><p>The cash flows in the cash flow legs are supposed to start after <code>exercise_time</code>. That is, the <code>BermudanExercise</code> manages the lag between option exercise and option settlement.</p><p><code>make_regression_variables</code> is a function with signature</p><pre><code class="nohighlight hljs">(exercise_time) -&gt; [ regr_payoff_1, ..., regr_payoff_N ].</code></pre><p>The function takes observation time as input to allow for re-usable fuctions. It returns a list of regression payoffs used for this particular exercise.</p><p>The result of the function is passed on to the <code>AmcPayoff</code> creation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L2-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.bermudan_exercise-Tuple{Number, AbstractVector, Function}" href="#DiffFusion.bermudan_exercise-Tuple{Number, AbstractVector, Function}"><code>DiffFusion.bermudan_exercise</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bermudan_exercise(
    exercise_time::ModelTime,
    cashflow_legs::AbstractVector,
    make_regression_variables::Function,
    )</code></pre><p>Create a <code>BermudanExercise</code> and check for valid inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L34-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.make_bermudan_exercises" href="#DiffFusion.make_bermudan_exercises"><code>DiffFusion.make_bermudan_exercises</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make_bermudan_exercises(
    fixed_leg::DeterministicCashFlowLeg,
    float_leg::DeterministicCashFlowLeg,
    exercise_time::AbstractVector,
    )</code></pre><p>Create a list of <code>BermudanExercise</code>s from Vanilla swap legs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L349-L357">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.BermudanSwaptionLeg" href="#DiffFusion.BermudanSwaptionLeg"><code>DiffFusion.BermudanSwaptionLeg</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A Bermudan swaption implemented as a <code>CashFlowLeg</code>.</p><p><code>alias</code> is the leg alias.</p><p><code>bermudan_exercises</code> is a list of <code>BermudanExercise</code>s in ascending order.</p><p><code>option_long_short</code> is <code>+1</code> for a long option position (buy) and <code>-1</code> for a short option position (sell).</p><p><code>numeraire_curve_key</code> is a discount curve key used for numeraie calculation in <code>AmcPayoff</code>s.</p><p><code>hold_values</code> is a list of <code>Payoff</code>s per <code>BermudanExercise</code> that represent the option prices if not exercised.</p><p><code>exercise_triggers</code> is a list of <code>Payoff</code>s per <code>BermudanExercise</code> that represent the indicator whether option was not exercised at respective exercise time.</p><p><code>make_regression_variables</code> is a function with signature</p><pre><code class="nohighlight hljs">(obs_time) -&gt; [ regr_payoff_1, ..., regr_payoff_N ].</code></pre><p>The function takes observation time as input to allow for re-usable fuctions. It returns a list of regression payoffs used for regression to current observation time.</p><p>The result of the function <code>make_regression_variables</code> is passed on to the <code>AmcPayoff</code> creation.</p><p><code>regression_data</code> holds function to create a regression and a <code>Path</code> to calibrate the regression. Details are passed on to <code>AmcPayoff</code> at creation. The elements are supposed to be updated subsequent to <code>BermudanSwaptionLeg</code> creation. This should allow decoupling of leg creation and usage. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L58-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.bermudan_swaption_leg" href="#DiffFusion.bermudan_swaption_leg"><code>DiffFusion.bermudan_swaption_leg</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bermudan_swaption_leg(
    alias::String,
    bermudan_exercises::AbstractVector,
    option_long_short::ModelValue,
    numeraire_curve_key::String,
    make_regression_variables::Function,
    path::Union{AbstractPath, Nothing},
    make_regression::Union{Function, Nothing},
    )</code></pre><p>Create a <code>BermudanSwaptionLeg</code>.</p><p>Calculate hold value payoffs and exercise trigger payoffs and setup the <code>BermudanSwaptionLeg</code> object. </p><p><code>alias</code>, <code>bermudan_exercises</code>, <code>option_long_short</code>, <code>numeraire_curve_key</code>, and <code>make_regression_variables</code> are passed on to <code>BermudanSwaptionLeg</code>.</p><p><code>path</code> and <code>make_regression</code> are used to create an <code>AmcPayoffRegression</code> object for  <code>AmcPayoff</code>s. This data is supposed to be updated subsequent to leg cretion.</p><p><code>regression_on_exercise_trigger = true</code> specifies AMC regression strategy. If <code>regression_on_exercise_trigger = then</code> then regression on regression is used. <code>regression_on_exercise_trigger = true</code> is recommended for accurate sensitivity calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L105-L132">source</a></section><section><div><pre><code class="language-julia hljs">bermudan_swaption_leg(
    alias::String,
    fixed_leg::DeterministicCashFlowLeg,
    float_leg::DeterministicCashFlowLeg,
    exercise_times::AbstractVector,
    option_long_short::ModelValue,
    numeraire_curve_key::String,
    regression_on_exercise_trigger = true,
    )</code></pre><p>Create a <code>BermudanSwaptionLeg</code> using simplified interface.</p><p><code>regression_on_exercise_trigger = true</code> specifies AMC regression strategy. If <code>regression_on_exercise_trigger = then</code> then regression on regression is used. <code>regression_on_exercise_trigger = true</code> is recommended for accurate sensitivity calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L422-L439">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.reset_regression!" href="#DiffFusion.reset_regression!"><code>DiffFusion.reset_regression!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reset_regression!(
    leg::BermudanSwaptionLeg,
    path::Union{AbstractPath, Nothing} = nothing,
    make_regression::Union{Function, Nothing}  = nothing,
    )</code></pre><p>Reset the regression properties for the AMC payoffs of the <code>BermudanSwaptionLeg</code>.</p><p>This method is used to allow setting and updating AMC regression after leg creation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L313-L324">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DiffFusion.discounted_cashflows-Tuple{DiffFusion.BermudanSwaptionLeg, Number}" href="#DiffFusion.discounted_cashflows-Tuple{DiffFusion.BermudanSwaptionLeg, Number}"><code>DiffFusion.discounted_cashflows</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discounted_cashflows(leg::BermudanSwaptionLeg, obs_time::ModelTime)</code></pre><p>Calculate the list of future discounted payoffs in numeraire currency.</p><p>Critical aspect is to consider the path-dependent exercise into the option underlying.</p><p>Consider an <code>obs_time</code> after a given <code>BermudanExercise</code> (last exercise). For this implementation, we make the assumption that exercise at <code>obs_time</code> will only be into the underlying of the last exercise.</p><p>Above assumption is does not pose a limitation if all underlyings are the same, i.e. standard Bermudans. </p><p>Above assumption is a limitation if the Bermudan can be exercised into different underlyings per exercise time. This corresponds to a more complex trigger option.</p><p>Above assumption can be relaxed at the expense of calculating discounted cash flows for all (earlier) underlyings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/frame-consulting/DiffFusion.jl/blob/d0999867ccd4a764f144e17c6ba7c1d6179c340f/src/products/BermudanSwaptionLeg.jl#L227-L248">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../products/">« Basic Products</a><a class="docs-footer-nextpage" href="../../scenarios/scenario_generation/">Scenarios »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Saturday 8 November 2025 19:54">Saturday 8 November 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
